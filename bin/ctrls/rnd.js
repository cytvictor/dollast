// Generated by LiveScript 1.3.1
var db, ref$, out$ = typeof exports != 'undefined' && exports || this;
db = require('../db');
ref$ = out$;
ref$.list = function*(){
  this.body = yield db.rnd.list();
};
ref$.nextCount = function*(){
  this.body = {
    _id: yield db.rnd.nextCount()
  };
};
ref$.show = function*(){
  this.body = yield db.rnd.show(this.params.rid, {
    mode: "view"
  });
};
ref$.save = function*(){
  yield db.rnd.modify(this.params.rid, this.request.body);
  this.body = {
    status: {
      type: "ok",
      msg: "round saved"
    }
  };
};
ref$.total = function*(){
  this.body = yield db.rnd.show(this.params.rid, {
    mode: "total"
  });
};
ref$['delete'] = function*(){
  yield db.rnd['delete'](this.params.rid);
  this.body = {
    status: {
      type: "ok",
      msg: "round has been deleted"
    }
  };
};
ref$.board = function*(){
  var rid;
  rid = this.params.rid;
  this.body = yield db.rnd.board(rid);
};