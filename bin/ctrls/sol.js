// Generated by LiveScript 1.3.1
var db, ref$, out$ = typeof exports != 'undefined' && exports || this;
db = require('../db');
ref$ = out$;
ref$.submit = function*(){
  var uid;
  this.checkBody('pid').toInt();
  this.checkBody('lang')['in'](['cpp', 'java']);
  this.checkBody('code').len(1, 50000);
  if (this.errors) {
    return;
  }
  uid = this.user._id;
  yield db.sol.submit(this.request.body, uid);
  this.body = {
    status: {
      type: "ok",
      msg: "solution submited successfully"
    }
  };
};
ref$.list = function*(){
  this.body = yield db.sol.list(this.query);
};
ref$.show = function*(){
  this.body = yield db.sol.show(this.params.sid);
};
ref$.toggle = function*(){
  this.body = yield db.sol.toggle(this.params.sid);
  this.body.status = {
    type: "ok",
    msg: "solution toggled"
  };
};