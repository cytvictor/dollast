// Generated by LiveScript 1.3.1
(function(){
  var mongoose, mongooseDeepPopulate, mongooseAutoIncrement, moment, bluebird, conn, nextCount, out$ = typeof exports != 'undefined' && exports || this;
  mongoose = require('mongoose');
  mongooseDeepPopulate = require('mongoose-deep-populate');
  mongooseAutoIncrement = require('mongoose-auto-increment');
  moment = require('moment');
  bluebird = require('bluebird');
  out$.conn = conn = mongoose.createConnection('mongodb://localhost/dollast');
  mongooseAutoIncrement.initialize(conn);
  mongoose.plugin(mongooseDeepPopulate);
  out$.nextCount = nextCount = function(model, count){
    return function*(){
      var counter;
      counter || (counter = 1);
      while (yield model.findById(sys.counter, '_id').lean().exec()) {
        counter += 1;
      }
      return counter;
    };
  };
}).call(this);
