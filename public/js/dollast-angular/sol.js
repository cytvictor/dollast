// Generated by LiveScript 1.3.1
(function(){
  var app;
  app = angular.module('dollast-sol-app', ["dollast-crud", "dollast-filters"]);
  app.controller('sol-submit-ctrl', [
    "$scope", "sol-serv", "$routeParams", "$location", "$timeout", function($scope, solServ, $routeParams, $location, $timeout){
      $scope.languages = ["cpp", "java"];
      $scope.sol = {
        _id: 'submit',
        pid: parseInt($routeParams.pid),
        lang: 'cpp',
        code: ''
      };
      $timeout(function(){
        return $('.ui.dropdown').dropdown();
      });
      $scope.select = function(lang){
        return $scope.sol.lang = lang;
      };
      return $scope.submit = function(){
        solServ.submit($scope.sol);
        return $location.path("/solution");
      };
    }
  ]);
  app.controller('sol-list-ctrl', [
    "$scope", "sol-serv", "$routeParams", function($scope, solServ, $routeParams){
      var opts;
      opts = {
        uid: $routeParams.uid
      };
      $scope.refresh = function(){
        return $scope.sols = solServ.query(opts);
      };
      $scope.sols = [];
      return $scope.refresh();
    }
  ]);
  app.controller('sol-show-ctrl', [
    "$scope", "sol-serv", "$routeParams", "$timeout", function($scope, solServ, $routeParams, $timeout){
      var sid;
      sid = parseInt($routeParams.sid);
      $scope.sol = solServ.get({
        sid: sid
      }, function(){
        return $timeout(function(){
          return $('pre code').each(function(i, block){
            return hljs.highlightBlock(block);
          });
        });
      });
      $timeout(function(){
        return $('.ui.checkbox').checkbox();
      });
      return $scope.toggle = function(){
        return solServ.toggle({
          sid: sid
        }, {}, function(it){
          return $scope.sol.open = it.open;
        });
      };
    }
  ]);
}).call(this);
