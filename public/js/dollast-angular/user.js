// Generated by LiveScript 1.4.0
(function(){
  var _, app;
  _ = require('prelude-ls');
  app = angular.module("dollast-user-app", ["dollast-crud", "dollast-sess"]);
  app.controller("user-modify-ctrl", [
    "$scope", "user-serv", "$routeParams", "user-session", function($scope, userServ, $routeParams, userSession){
      $scope.user = userServ.get({
        uid: $routeParams.uid
      });
      $scope.priv = "";
      $scope.submit = function(){
        return userServ.save($scope.user);
      };
      $scope.insert = function(){
        return $scope.user.groups.push($scope.priv);
      };
      $scope.remove = function(priv){
        return $scope.user.groups = _.reject((function(it){
          return it === priv;
        }), $scope.user.groups);
      };
      return $scope['delete'] = function(){
        throw Error('unimplemented');
      };
    }
  ]);
  app.controller("user-reg-ctrl", [
    "$scope", "user-session", function($scope, userSession){
      return $scope.submit = function(){
        return userSession.register($scope.uid, $scope.pswd);
      };
    }
  ]);
  app.controller('user-profile-ctrl', [
    "$scope", "user-serv", "$routeParams", function($scope, userServ, $routeParams){
      return $scope.user = userServ.get({
        uid: $routeParams.uid
      });
    }
  ]);
}).call(this);
