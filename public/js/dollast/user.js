// Generated by LiveScript 1.3.1
var _, app;
_ = require('prelude-ls');
app = angular.module("dollast-user-app", ["dollast-crud"]);
app.controller("user-modify-ctrl", [
  "$scope", "user-serv", "$routeParams", function($scope, userServ, $routeParams){
    $scope.usr = userServ.get({
      uid: $routeParams.uid
    });
    $scope.priv = "";
    $scope.submit = function(){
      return userServ.save($scope.usr);
    };
    $scope.insert = function(){
      return $scope.usr.privList.push($scope.priv);
    };
    $scope.remove = function(priv){
      return $scope.usr.privList = _.reject((function(it){
        return it === priv;
      }), $scope.usr.privList);
    };
    return $scope['delete'] = function(){
      throw Error('unimplemented');
    };
  }
]);
app.controller("user-reg-ctrl", [
  "$scope", "user-serv", function($scope, userServ){
    userServ.usr = {};
    return $scope.submit = function(){
      return userServ.reg($scope.usr);
    };
  }
]);
app.controller('user-profile-ctrl', [
  "$scope", "user-serv", "$routeParams", function($scope, userServ, $routeParams){
    return $scope.user = userServ.get({
      uid: $routeParams.uid
    });
  }
]);