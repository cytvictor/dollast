// Generated by LiveScript 1.3.1
(function(){
  var app;
  app = angular.module('dollast-app', ["ngRoute", "doffirst", "dollast-prob-app", "dollast-sol-app", "dollast-rnd-app"]);
  app.config([
    '$routeProvider', function($routeProvider){
      return $routeProvider.when('/', {
        templateUrl: 'partials/index.html',
        controller: 'index-ctrl'
      }).when('/about', {
        templateUrl: 'partials/about.html'
      }).when('/problem', {
        templateUrl: 'partials/problem/list.html',
        controller: 'prob-list-ctrl'
      }).when('/problem/create', {
        templateUrl: 'partials/problem/modify.html',
        controller: 'prob-modify-ctrl'
      }).when('/problem/:pid', {
        templateUrl: 'partials/problem/show.html',
        controller: 'prob-show-ctrl'
      }).when('/problem/:pid/modify', {
        templateUrl: 'partials/problem/modify.html',
        controller: 'prob-modify-ctrl'
      }).when('/submit/:pid', {
        templateUrl: 'partials/solution/submit.html',
        controller: 'sol-submit-ctrl'
      }).when('/login', {
        templateUrl: 'partials/login.html',
        controller: 'login-ctrl'
      }).when('/solution', {
        templateUrl: 'partials/solution/list.html',
        controller: 'sol-list-ctrl'
      }).when('/solution/:sid', {
        templateUrl: 'partials/solution/show.html',
        controller: 'sol-show-ctrl'
      }).when('/round', {
        templateUrl: 'partials/round/list.html',
        controller: 'rnd-list-ctrl'
      }).when('/round/create', {
        templateUrl: 'partials/round/modify.html',
        controller: 'rnd-modify-ctrl'
      }).when('/round/:rid', {
        templateUrl: 'partials/round/show.html',
        controller: 'rnd-show-ctrl'
      }).when('/round/:rid/modify', {
        templateUrl: 'partials/round/modify.html',
        controller: 'rnd-modify-ctrl'
      }).otherwise({
        templateUrl: 'partials/404.html'
      });
    }
  ]);
  app.controller('navbar-ctrl', [
    "$scope", "doffirst", function($scope, doffirst){
      return doffirst.get('/session', $scope);
    }
  ]);
  app.controller('index-ctrl', [
    "$scope", "doffirst", "$location", function($scope, doffirst, $location){
      return $scope.submit = function(){
        return $location.path("/solution");
      };
    }
  ]);
  app.controller('login-ctrl', [
    "$scope", "doffirst", function($scope, doffirst){
      $scope.user = {
        username: '',
        password: ''
      };
      return $scope.submit = function(user){
        console.log(user);
        return doffirst.post('/login', $scope.user, $scope, function(it){
          return it.msg = it.status === false;
        });
      };
    }
  ]);
}).call(this);
