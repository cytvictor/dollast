// Generated by LiveScript 1.3.1
(function(){
  var createClass, connect, onRefreshProblemList, ref$, iconText, tabMenu, U, I, log, linkList, selector;
  createClass = require('react').createClass;
  connect = require('react-redux').connect;
  onRefreshProblemList = require('../../actions').onRefreshProblemList;
  ref$ = require('../elements'), iconText = ref$.iconText, tabMenu = ref$.tabMenu;
  U = require('../utils');
  I = require('immutable');
  log = debug('dollast:component:problem:list');
  linkList = createClass({
    displayName: 'link-list',
    render: function(){
      var elem;
      return _('div', {
        className: "ui very relaxed divided link list"
      }, (function(){
        var i$, ref$, len$, results$ = [];
        for (i$ = 0, len$ = (ref$ = this.props.list).length; i$ < len$; ++i$) {
          elem = ref$[i$];
          results$.push(_('a', {
            className: "item",
            href: elem.href,
            key: elem.href
          }, _('div', {
            className: "ui left floated icon"
          }, _('i', {
            className: "icon check"
          }), _('i', {
            className: "icon remove"
          })), _('div', {
            className: "ui right floated"
          }, elem.right), _('div', {
            className: 'description'
          }, elem.desc)));
        }
        return results$;
      }.call(this)));
    }
  });
  selector = function(state){
    return {
      probList: state.getIn(['db', 'problem', 'get'], I.fromJS([]))
    };
  };
  module.exports = connect(selector)(createClass({
    displayName: 'prob-list',
    componentDidMount: function(){
      return this.props.dispatch(onRefreshProblemList());
    },
    render: function(){
      var probList, res$, i$, ref$, len$, prob;
      res$ = [];
      for (i$ = 0, len$ = (ref$ = this.props.probList.toJS()).length; i$ < len$; ++i$) {
        prob = ref$[i$];
        res$.push({
          href: "#/problem/" + prob._id,
          right: '',
          desc: prob.outlook.title
        });
      }
      probList = res$;
      return _('div', {
        className: "ui"
      }, _('h1', {
        className: "ui header dividing"
      }, "problem list"), _(tabMenu, {
        menuProps: {
          className: "secondary pointing"
        },
        active: 'all',
        tabs: [
          {
            tabName: 'all',
            text: 'All',
            prop: {
              className: 'blue'
            },
            dom: _(linkList, {
              list: probList
            })
          }, {
            tabName: 'solved',
            text: 'Solved',
            prop: {
              className: 'green'
            },
            dom: _(linkList, {
              list: probList
            })
          }, {
            tabName: 'unsolved',
            text: 'Unsolved',
            prop: {
              className: 'red'
            },
            dom: _(linkList, {
              list: probList
            })
          }
        ]
      }), _(iconText, {
        className: "right floated launch primary labeled",
        href: '#/problem/create',
        text: 'create',
        icon: 'plus'
      }));
    }
  }));
}).call(this);
